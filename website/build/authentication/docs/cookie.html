<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
  <title>cookie · authentication</title>
  <meta name="viewport" content="width=device-width" />
  <meta name="generator" content="Docusaurus" />
  <meta property="og:title" content="cookie · authentication" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://facebook.github.io/index.html" />
  <meta property="og:description" content="Cookie provides a simple way to store session state in a cookie. It is secure by default (even including built in CSRF protection for all non-GET requests)."
  />
  <link rel="shortcut icon" href="/img/favicon.png" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" />
  <link rel="alternate" type="application/atom+xml" href="https://facebook.github.io/blog/atom.xml" title="authentication Blog ATOM Feed"
  />
  <link rel="alternate" type="application/rss+xml" href="https://facebook.github.io/blog/feed.xml" title="authentication Blog RSS Feed"
  />
  <script type="text/javascript" src="/js/language-switcher.js"></script>
  <script type="text/javascript" src="https://buttons.github.io/buttons.js"></script>
  <link rel="stylesheet" href="/css/main.css" />
</head>

<body class="sideNavVisible">
  <div class="fixedHeaderContainer">
    <div class="headerWrapper wrapper">
      <header>
        <a href="/">
          <img class="logo" src="/img/at.svg" />
          <h2 class="headerTitle">authentication</h2>
        </a>
        <div class="navigationWrapper navigationSlider">
          <nav class="slidingNav">
            <ul class="nav-site nav-site-internal">
              <li>
                <a href="/docs/getting-started.html" target="_self">Docs</a>
              </li>
              <li>
                <a href="/en/help.html" target="_self">Help</a>
              </li>
              <li>
                <a href="/blog" target="_self">Blog</a>
              </li>
            </ul>
          </nav>
        </div>
      </header>
    </div>
  </div>
  <div class="navPusher">
    <div class="docMainWrapper wrapper">
      <div class="container docsNavContainer" id="docsNav">
        <nav class="toc">
          <div class="toggleNav">
            <section class="navWrapper wrapper">
              <div class="navBreadcrumb wrapper">
                <div class="navToggle" id="navToggler">
                  <i></i>
                </div>
                <h2>
                  <i>›</i>
                  <span>Packages</span>
                </h2>
              </div>
              <div class="navGroups">
                <div class="navGroup navGroupActive">
                  <h3>Guides</h3>
                  <ul>
                    <li class="navListItem">
                      <a class="navItem" href="/docs/getting-started.html">Getting Started</a>
                    </li>
                    <li class="navListItem">
                      <a class="navItem" href="/docs/profile.html">Profile</a>
                    </li>
                  </ul>
                </div>
                <div class="navGroup navGroupActive">
                  <h3>Packages</h3>
                  <ul>
                    <li class="navListItem navListItemActive">
                      <a class="navItem navItemActive" href="/docs/cookie.html">cookie</a>
                    </li>
                  </ul>
                </div>
                <div class="navGroup navGroupActive">
                  <h3>Common Providers</h3>
                  <ul>
                    <li class="navListItem">
                      <a class="navItem" href="/docs/facebook.html">Facebook</a>
                    </li>
                    <li class="navListItem">
                      <a class="navItem" href="/docs/google.html">Google</a>
                    </li>
                  </ul>
                </div>
              </div>
            </section>
          </div>
          <script>
            var toggler = document.getElementById('navToggler');
            var nav = document.getElementById('docsNav');
            toggler.onclick = function () {
              nav.classList.toggle('docsSliderActive');
            };
          </script>
        </nav>
      </div>
      <div class="container mainContainer">
        <div class="wrapper">
          <div class="post">
            <header class="postHeader">
              <h1>cookie</h1>
            </header>
            <article>
              <div>
                <span>
                  <p>Cookie provides a simple way to store session state in a cookie. It is secure by default (even including
                    built in CSRF protection for all non-GET requests).</p>
                  <h2>
                    <a class="anchor" aria-hidden="true" name="installation"></a>
                    <a href="#installation" aria-hidden="true" class="hash-link">
                      <svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                        <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                      </svg>
                    </a>Installation</h2>
                  <p>To install, run the following command in your terminal:</p>
                  <pre><code class="hljs css sh">yarn add @authentication/cookie
</code></pre>
                  <h2>
                    <a class="anchor" aria-hidden="true" name="usage"></a>
                    <a href="#usage" aria-hidden="true" class="hash-link">
                      <svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                        <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                      </svg>
                    </a>Usage</h2>
                  <p>Set the
                    <code>SECURE_KEY</code> environment variable to a comma-separated list of random strings. (see
                    <code>keys</code> option).</p>
                  <pre><code class="hljs css typescript"><span class="hljs-keyword">import</span> Cookie <span class="hljs-keyword">from</span> <span class="hljs-string">'@authentication/cookie'</span>;

<span class="hljs-keyword">const</span> cookie = <span class="hljs-keyword">new</span> Cookie&lt;<span class="hljs-built_in">number</span>&gt;(
  <span class="hljs-comment">/* cookie name */</span> <span class="hljs-string">'session_id'</span>,
  <span class="hljs-comment">/* options */</span> {
    maxAge: <span class="hljs-string">'30 days'</span>
  }
);

app.use(<span class="hljs-function">(<span class="hljs-params">req, res, next</span>) =&gt;</span> {
  cookie.refresh(req, res);
  next();
});
app.get(<span class="hljs-string">'/set-cookie/:value'</span>, <span class="hljs-function">(<span class="hljs-params">req, res, next</span>) =&gt;</span> {
  cookie.set(req, res, <span class="hljs-built_in">parseInt</span>(req.params.value, <span class="hljs-number">10</span>));
  res.send(<span class="hljs-string">'cookie set'</span>);
});
app.get(<span class="hljs-string">'/remove-cookie'</span>, <span class="hljs-function">(<span class="hljs-params">req, res, next</span>) =&gt;</span> {
  cookie.remove(req, res);
});
app.get(<span class="hljs-string">'/get-cookie'</span>, <span class="hljs-function">(<span class="hljs-params">req, res, next</span>) =&gt;</span> {
  <span class="hljs-comment">// value is `number | null`</span>
  <span class="hljs-keyword">const</span> value = cookie.get(req, res);
  res.json(value);
});
</code></pre>
                  <pre><code class="hljs css javascript"><span class="hljs-keyword">const</span> Cookie = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@authentication/cookie'</span>);

<span class="hljs-keyword">const</span> cookie = <span class="hljs-keyword">new</span> Cookie(
  <span class="hljs-comment">/* cookie name */</span> <span class="hljs-string">'session_id'</span>,
  <span class="hljs-comment">/* options */</span> {
    <span class="hljs-attr">maxAge</span>: <span class="hljs-string">'30 days'</span>
  }
);

app.use(<span class="hljs-function">(<span class="hljs-params">req, res, next</span>) =&gt;</span> {
  cookie.refresh(req, res);
  next();
});
app.get(<span class="hljs-string">'/set-cookie/:value'</span>, (req, res, next) =&gt; {
  cookie.set(req, res, <span class="hljs-built_in">parseInt</span>(req.params.value, <span class="hljs-number">10</span>));
  res.send(<span class="hljs-string">'cookie set'</span>);
});
app.get(<span class="hljs-string">'/remove-cookie'</span>, (req, res, next) =&gt; {
  cookie.remove(req, res);
});
app.get(<span class="hljs-string">'/get-cookie'</span>, (req, res, next) =&gt; {
  <span class="hljs-comment">// value is `number | null`</span>
  <span class="hljs-keyword">const</span> value = cookie.get(req, res);
  res.json(value);
});
</code></pre>
                  <h2>
                    <a class="anchor" aria-hidden="true" name="signing"></a>
                    <a href="#signing" aria-hidden="true" class="hash-link">
                      <svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                        <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                      </svg>
                    </a>Signing</h2>
                  <p>If cookies are not signed, users can maliciously send your application arbitrary data in the cookie. For
                    most uses of cookies, that would be problematic. For this reason,
                    <code>@authentication/cookie</code> requires you to sign your cookies by default. The easiest way to do this is to set the
                    <code>SECURE_KEY</code> environment variable to a secret, random string. The other option is to pass an array containing a secret,
                    random string as the
                    <code>keys</code> option. Enviornment variables are the recommended approach as it is generally easier to keep them secret.</p>
                  <h3>
                    <a class="anchor" aria-hidden="true" name="key-rotation"></a>
                    <a href="#key-rotation" aria-hidden="true" class="hash-link">
                      <svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                        <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                      </svg>
                    </a>Key Rotation</h3>
                  <p>It is a good idea to rotate the keys on a regular basis. This way if an old key is compromised, it will
                    not affect the security of the current application.</p>
                  <p>To enable this,
                    <code>@authentication/cookie</code> lets you pass an array of keys (separate keys with a
                    <code>,</code> if using
                    <code>SECURE_KEY</code>). The first key is always used whenever creating cookies, subsequent keys are accepted when reading
                    cookies. Once
                    <code>maxAge</code> has expired, you can safely delete old keys.</p>
                  <h3>
                    <a class="anchor" aria-hidden="true" name="signing-policy"></a>
                    <a href="#signing-policy" aria-hidden="true" class="hash-link">
                      <svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                        <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                      </svg>
                    </a>Signing Policy</h3>
                  <p>You can import the
                    <code>SigningPolicy</code> enum via:</p>
                  <pre><code class="hljs css typescript"><span class="hljs-keyword">import</span> Cookie, {SigningPolicy} <span class="hljs-keyword">from</span> <span class="hljs-string">'@authentication/cookie'</span>;
</code></pre>
                  <pre><code class="hljs css javascript"><span class="hljs-keyword">const</span> Cookie = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@authentication/cookie'</span>);
<span class="hljs-keyword">const</span> SigningPolicy = Cookie.SigningPolicy;
</code></pre>
                  <p>Then you can specify one of:</p>
                  <pre><code class="hljs css typescript"><span class="hljs-keyword">const</span> cookie = <span class="hljs-keyword">new</span> Cookie(<span class="hljs-string">'session_id'</span>, {
  maxAge: <span class="hljs-string">'30 days'</span>,
  signingPolicy: SigningPolicy.Required <span class="hljs-comment">// default in production</span>
});
<span class="hljs-comment">// or</span>
<span class="hljs-keyword">const</span> cookie = <span class="hljs-keyword">new</span> Cookie(<span class="hljs-string">'session_id'</span>, {
  maxAge: <span class="hljs-string">'30 days'</span>,
  signingPolicy: SigningPolicy.Optional <span class="hljs-comment">// default in development</span>
});
<span class="hljs-comment">// or</span>
<span class="hljs-keyword">const</span> cookie = <span class="hljs-keyword">new</span> Cookie(<span class="hljs-string">'session_id'</span>, {
  maxAge: <span class="hljs-string">'30 days'</span>,
  signingPolicy: SigningPolicy.Disabled
});
</code></pre>
                  <pre><code class="hljs css javascript"><span class="hljs-keyword">const</span> cookie = <span class="hljs-keyword">new</span> Cookie(<span class="hljs-string">'session_id'</span>, {
  <span class="hljs-attr">maxAge</span>: <span class="hljs-string">'30 days'</span>,
  <span class="hljs-attr">signingPolicy</span>: SigningPolicy.Required <span class="hljs-comment">// default in production</span>
});
<span class="hljs-comment">// or</span>
<span class="hljs-keyword">const</span> cookie = <span class="hljs-keyword">new</span> Cookie(<span class="hljs-string">'session_id'</span>, {
  <span class="hljs-attr">maxAge</span>: <span class="hljs-string">'30 days'</span>,
  <span class="hljs-attr">signingPolicy</span>: SigningPolicy.Optional <span class="hljs-comment">// default in development</span>
});
<span class="hljs-comment">// or</span>
<span class="hljs-keyword">const</span> cookie = <span class="hljs-keyword">new</span> Cookie(<span class="hljs-string">'session_id'</span>, {
  <span class="hljs-attr">maxAge</span>: <span class="hljs-string">'30 days'</span>,
  <span class="hljs-attr">signingPolicy</span>: SigningPolicy.Disabled
});
</code></pre>
                  <ul>
                    <li>
                      <p>
                        <code>Required</code> - This is the default in production. The cookie
                        <strong>must</strong> be signed. If no keys are provided and
                        <code>SECURE_KEY</code> is empty, an error will be thrown.</p>
                      <p>If this option is selected, you can trist that any value in a cookie was set by the server.</p>
                    </li>
                    <li>
                      <p>
                        <code>Optional</code> - This can be used in libraries where you do not expect the server to need to trust data sent in
                        cookies, but you wish to enable signing if the
                        <code>SECURE_KEY</code> environment variable is set.</p>
                      <p>Note that if
                        <code>SECURE_KEY</code> is not set, this is equivalent to
                        <code>Disabled</code>.</p>
                    </li>
                    <li>
                      <p>
                        <code>Disabled</code> - Use this if you know that you will not need to trust the data stored in the cookie. For example,
                        you could use this for something like a user preference for font-size.</p>
                      <p>Note that if you select this, you cannot trust
                        <strong>anything</strong> about the value you get back in the cookie, including what type of data it contains.</p>
                    </li>
                  </ul>
                  <h2>
                    <a class="anchor" aria-hidden="true" name="csrf-same-site-policy"></a>
                    <a href="#csrf-same-site-policy" aria-hidden="true" class="hash-link">
                      <svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                        <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                      </svg>
                    </a>CSRF / Same Site Policy</h2>
                  <p>CSRF is a method for maliciously doing something on a web app without someone's permission. It works by
                    pursuading the victim to visit a malicious website, which then posts to the application being manipulated.
                    The post will happen with the user's authenticated session. By default,
                    <code>@authentication/cookie</code> pevents this attack by ignoring all cookies on cross origin requests, except for
                    <code>GET</code> requests. This provides good security by default, providing you stick the the golden rule:</p>
                  <blockquote>
                    <p>Never perform side effects for
                      <code>GET</code> requests.</p>
                  </blockquote>
                  <p>i.e. you should never modify your database, or perform actions as a result of a
                    <code>GET</code> request. A malicious person can send your user a link which may cause them to make a
                    <code>GET</code> request.</p>
                  <p>If you want, you can disable
                    <code>@authentication/cookie</code>'s same site policy, or make it more strict by passing the
                    <code>sameSitePolicy</code> option.</p>
                  <pre><code class="hljs css typescript"><span class="hljs-keyword">import</span> Cookie, {SameSitePolicy} <span class="hljs-keyword">from</span> <span class="hljs-string">'@authentication/cookie'</span>;
</code></pre>
                  <pre><code class="hljs css javascript"><span class="hljs-keyword">const</span> Cookie = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@authentication/cookie'</span>);
<span class="hljs-keyword">const</span> SameSitePolicy = Cookie.SameSitePolicy;
</code></pre>
                  <p>Then you can specify one of:</p>
                  <pre><code class="hljs css typescript"><span class="hljs-keyword">const</span> cookie = <span class="hljs-keyword">new</span> Cookie(<span class="hljs-string">'session_id'</span>, {
  maxAge: <span class="hljs-string">'30 days'</span>,
  sameSitePolicy: SameSitePolicy.Strict
});
<span class="hljs-comment">// or</span>
<span class="hljs-keyword">const</span> cookie = <span class="hljs-keyword">new</span> Cookie(<span class="hljs-string">'session_id'</span>, {
  maxAge: <span class="hljs-string">'30 days'</span>,
  sameSitePolicy: SameSitePolicy.Lax <span class="hljs-comment">// default</span>
});
<span class="hljs-comment">// or</span>
<span class="hljs-keyword">const</span> cookie = <span class="hljs-keyword">new</span> Cookie(<span class="hljs-string">'session_id'</span>, {
  maxAge: <span class="hljs-string">'30 days'</span>,
  sameSitePolicy: SameSitePolicy.AnySite
});
</code></pre>
                  <pre><code class="hljs css javascript"><span class="hljs-keyword">const</span> cookie = <span class="hljs-keyword">new</span> Cookie(<span class="hljs-string">'session_id'</span>, {
  <span class="hljs-attr">maxAge</span>: <span class="hljs-string">'30 days'</span>,
  <span class="hljs-attr">sameSitePolicy</span>: SameSitePolicy.Strict
});
<span class="hljs-comment">// or</span>
<span class="hljs-keyword">const</span> cookie = <span class="hljs-keyword">new</span> Cookie(<span class="hljs-string">'session_id'</span>, {
  <span class="hljs-attr">maxAge</span>: <span class="hljs-string">'30 days'</span>,
  <span class="hljs-attr">sameSitePolicy</span>: SameSitePolicy.Lax <span class="hljs-comment">// default</span>
});
<span class="hljs-comment">// or</span>
<span class="hljs-keyword">const</span> cookie = <span class="hljs-keyword">new</span> Cookie(<span class="hljs-string">'session_id'</span>, {
  <span class="hljs-attr">maxAge</span>: <span class="hljs-string">'30 days'</span>,
  <span class="hljs-attr">sameSitePolicy</span>: SameSitePolicy.AnySite
});
</code></pre>
                  <ul>
                    <li>
                      <code>Strict</code> - Ignore cookies on all cross origin requests, even
                      <code>GET</code> requests. This will lead to user's seeing the un-authenticated state for your application if they
                      follow a link from elsewhere.</li>
                    <li>
                      <code>Lax</code> - Ignore cookies on cross origin requests, except
                      <code>GET</code> requests. This prevents CSRF for all non-GET requests.</li>
                    <li>
                      <code>AnySite</code> - Allows all cross origin requests. This approach may be preferable for tracking codes for analytics,
                      but it is
                      <strong>not</strong> recommended for session IDs/user IDs etc.</li>
                  </ul>
                  <h2>
                    <a class="anchor" aria-hidden="true" name="api"></a>
                    <a href="#api" aria-hidden="true" class="hash-link">
                      <svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                        <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                      </svg>
                    </a>API</h2>
                  <h3>
                    <a class="anchor" aria-hidden="true" name="cookie"></a>
                    <a href="#cookie" aria-hidden="true" class="hash-link">
                      <svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                        <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                      </svg>
                    </a>
                    <code>Cookie</code>
                  </h3>
                  <p>The
                    <code>Cookie</code> class represents the API for a given cookie. It is the main, default export for
                    <code>@authentication/cookie</code>.</p>
                  <h4>
                    <a class="anchor" aria-hidden="true" name="constructorname-string-options-options"></a>
                    <a href="#constructorname-string-options-options" aria-hidden="true" class="hash-link">
                      <svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                        <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                      </svg>
                    </a>
                    <code>constructor(name: string, options: Options)</code>
                  </h4>
                  <p>You must pass a
                    <code>name</code> for the cookie. Each instance of the cookie class should have a unique name, allowing you to store multiple
                    separate cookies on the client.</p>
                  <p>You must also pass in
                    <code>options</code>:</p>
                  <ul>
                    <li>
                      <code>baseURL</code> (optional,
                      <code>string | URL</code>) - A base url used to check the sameSite policy. If this is not set, we will attempt to infer the
                      baseURL from the request's headers. You can also specify this via the
                      <code>BASE_URL</code> environment variable.</li>
                    <li>
                      <code>domain</code> (optional,
                      <code>string</code>) - a string indicating the domain of the cookie (no default).</li>
                    <li>
                      <code>serverSideOnly</code> (optional,
                      <code>boolean</code>) - a boolean indicating whether the cookie is only to be sent over HTTP(S), and not made available
                      to client JavaScript (
                      <code>true</code> by default).</li>
                    <li>
                      <code>keys</code> (optionalish,
                      <code>string[]</code>) - Defaults to
                      <code>process.env.SECURE_KEY.split(',')</code>. Required by default. See
                      <a href="#signing">Signing</a> for more info.</li>
                    <li>
                      <code>maxAge</code> (required,
                      <code>number | string | CookieSession</code>) - The max age of the cookie. Set this to
                      <code>Cookie.Session</code> if you want the cookie to expire when the user closes their browser. You can set this to a number
                      in milliseconds, or a string that gets interpreted by the
                      <a href="https://www.npmjs.com/package/ms#examples">ms</a> library.</li>
                    <li>
                      <code>overwrite</code> (optional,
                      <code>boolean</code>) - a boolean indicating whether to overwrite previously set cookies of the same name (true by default).
                      If this is true, all cookies set during the same request with the same name (regardless of path or
                      domain) are filtered out of the Set-Cookie header when setting this cookie.</li>
                    <li>
                      <code>path</code> (optional,
                      <code>string</code>) - a string indicating the path of the cookie (/ by default).</li>
                    <li>
                      <code>sameSite</code> (optional,
                      <code>SameSitePolicy</code>) - See
                      <a href="#csrf-same-site-policy">CSRF/Same Site Policy</a>
                    </li>
                    <li>
                      <code>httpsOnly</code> (optional,
                      <code>boolean</code>) - a boolean indicating whether the cookie is only to be sent over HTTPS (false by default for HTTP,
                      true by default for HTTPS).</li>
                    <li>
                      <code>signed</code> (optional,
                      <code>SigningPolicy</code>) - See
                      <a href="#signing">Signing</a>,
                      <code>Required</code> by default if
                      <code>NODE_ENV!=='development'</code>, otherwise
                      <code>Optional</code>.</li>
                  </ul>
                  <h4>
                    <a class="anchor" aria-hidden="true" name="cookiesetreq-res-value"></a>
                    <a href="#cookiesetreq-res-value" aria-hidden="true" class="hash-link">
                      <svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                        <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                      </svg>
                    </a>
                    <code>cookie.set(req, res, value)</code>
                  </h4>
                  <p>Set the
                    <code>cookie</code> to the
                    <code>value</code> for the current
                    <code>req</code>/
                    <code>res</code> pair. Subsequent calls to
                    <code>cookie.get</code> will then return
                    <code>value</code>.</p>
                  <h4>
                    <a class="anchor" aria-hidden="true" name="cookiegetreq-res"></a>
                    <a href="#cookiegetreq-res" aria-hidden="true" class="hash-link">
                      <svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                        <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                      </svg>
                    </a>
                    <code>cookie.get(req, res)</code>
                  </h4>
                  <p>Get the cookie for the current
                    <code>req</code>/
                    <code>res</code> pair. Returns
                    <code>null</code> if no value was set.</p>
                  <h4>
                    <a class="anchor" aria-hidden="true" name="cookieremovereq-res"></a>
                    <a href="#cookieremovereq-res" aria-hidden="true" class="hash-link">
                      <svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                        <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                      </svg>
                    </a>
                    <code>cookie.remove(req, res)</code>
                  </h4>
                  <p>Remove the cookie for the current
                    <code>req</code>/
                    <code>res</code> pair. Subsequent calls to
                    <code>cookie.get</code> will return `null.</p>
                  <h4>
                    <a class="anchor" aria-hidden="true" name="cookierefreshreq-res"></a>
                    <a href="#cookierefreshreq-res" aria-hidden="true" class="hash-link">
                      <svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                        <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                      </svg>
                    </a>
                    <code>cookie.refresh(req, res)</code>
                  </h4>
                  <p>Update the cookie without changing it's value. This extends the cookie to the
                    <code>maxAge</code> set in
                    <code>options</code>. It's generally a good idea to do this on every request. N.B. if no cookie is set, this is a no-op.</p>
                </span>
              </div>
            </article>
          </div>
          <div class="docs-prevnext">
            <a class="docs-prev button" href="profile.html">← Profile</a>
            <a class="docs-next button" href="facebook.html">Facebook →</a>
          </div>
        </div>
      </div>
    </div>
    <footer class="nav-footer" id="footer">
      <section class="sitemap">
        <a href="/" class="nav-home">
          <img src="/img/at.svg" alt="authentication" width="66" height="58" />
        </a>
        <div>
          <h5>Docs</h5>
          <a href="/docs/en/doc1.html">Getting Started (or other categories)</a>
        </div>
        <div>
          <h5>Community</h5>
          <a href="https://twitter.com/ForbesLindesay" target="_blank">Twitter</a>
        </div>
        <div>
          <h5>More</h5>
          <a href="/blog">Blog</a>
          <a href="https://github.com/ForbesLindesay/authentication">GitHub</a>
          <a class="github-button" href="https://github.com/ForbesLindesay/authentication" data-icon="octicon-star"
            data-count-href="/ForbesLindesay/authentication/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub"
            aria-label="Star this project on GitHub">Star</a>
        </div>
      </section>
      <section class="copyright">Copyright © 2017 Forbes Lindesay</section>
    </footer>
  </div>
</body>

</html>